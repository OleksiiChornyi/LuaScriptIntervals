--- TABLE Serials are numbered from 0 to 7
local Serials = {
  SERIAL0 = 0,
  SERIAL1 = 1,
  SERIAL2 = 2,
  SERIAL3 = 3,
  SERIAL4 = 4,
  SERIAL5 = 5,
  SERIAL6 = 6,
  SERIAL7 = 7
}

--- TABLE MAV COMPONENTS ID
local Mav_components = {
  HEARTBEAT = 0,
  SYS_STATUS = 1,
  SYSTEM_TIME = 2,
  PING = 4, -- DEPRECATED:Replaced By TIMESYNC (2011-08) — To be removed / merged with TIMESYNC)
  CHANGE_OPERATOR_CONTROL = 5,
  CHANGE_OPERATOR_CONTROL_ACK = 6,
  AUTH_KEY = 7,
  LINK_NODE_STATUS = 8, -- WORK IN PROGRESS: Do not use in stable production environments (it may change).
  SET_MODE = 11, -- DEPRECATED:Replaced ByMAV_CMD_DO_SET_MODE(2015-12) — UseCOMMAND_LONGwithMAV_CMD_DO_SET_MODEinstead)
  PARAM_REQUEST_READ = 20,
  PARAM_REQUEST_LIST = 21,
  PARAM_VALUE = 22,
  PARAM_SET = 23,
  GPS_RAW_INT = 24,
  GPS_STATUS = 25,
  SCALED_IMU = 26,
  RAW_IMU = 27,
  RAW_PRESSURE = 28,
  SCALED_PRESSURE = 29,
  ATTITUDE = 30,
  ATTITUDE_QUATERNION = 31,
  LOCAL_POSITION_NED = 32,
  GLOBAL_POSITION_INT = 33,
  RC_CHANNELS_SCALED = 34,
  RC_CHANNELS_RAW = 35,
  SERVO_OUTPUT_RAW = 36,
  MISSION_REQUEST_PARTIAL_LIST = 37,
  MISSION_WRITE_PARTIAL_LIST = 38,
  MISSION_ITEM = 39, -- DEPRECATED:Replaced ByMISSION_ITEM_INT(2020-06)
  MISSION_REQUEST = 40, -- DEPRECATED:Replaced ByMISSION_REQUEST_INT(2020-06) — A system that gets this request should respond withMISSION_ITEM_INT(as thoughMISSION_REQUEST_INTwas received).)
  MISSION_SET_CURRENT = 41, -- DEPRECATED:Replaced ByMAV_CMD_DO_SET_MISSION_CURRENT(2022-08)
  MISSION_CURRENT = 42,
  MISSION_REQUEST_LIST = 43,
  MISSION_COUNT = 44,
  MISSION_CLEAR_ALL = 45,
  MISSION_ITEM_REACHED = 46,
  MISSION_ACK = 47,
  SET_GPS_GLOBAL_ORIGIN = 48, -- DEPRECATED:Replaced ByMAV_CMD_SET_GLOBAL_ORIGIN(2025-04)
  GPS_GLOBAL_ORIGIN = 49,
  PARAM_MAP_RC = 50,
  MISSION_REQUEST_INT = 51,
  SAFETY_SET_ALLOWED_AREA = 54,
  SAFETY_ALLOWED_AREA = 55,
  ATTITUDE_QUATERNION_COV = 61,
  NAV_CONTROLLER_OUTPUT = 62,
  GLOBAL_POSITION_INT_COV = 63,
  LOCAL_POSITION_NED_COV = 64,
  RC_CHANNELS = 65,
  REQUEST_DATA_STREAM = 66, -- DEPRECATED:Replaced ByMAV_CMD_SET_MESSAGE_INTERVAL(2015-08)
  DATA_STREAM = 67, -- DEPRECATED:Replaced ByMESSAGE_INTERVAL(2015-08)
  MANUAL_CONTROL = 69,
  RC_CHANNELS_OVERRIDE = 70,
  MISSION_ITEM_INT = 73,
  VFR_HUD = 74,
  COMMAND_INT = 75,
  COMMAND_LONG = 76,
  COMMAND_ACK = 77,
  COMMAND_CANCEL = 80, -- WORK IN PROGRESS: Do not use in stable production environments (it may change).
  MANUAL_SETPOINT = 81,
  SET_ATTITUDE_TARGET = 82,
  ATTITUDE_TARGET = 83,
  SET_POSITION_TARGET_LOCAL_NED = 84,
  POSITION_TARGET_LOCAL_NED = 85,
  SET_POSITION_TARGET_GLOBAL_INT = 86,
  POSITION_TARGET_GLOBAL_INT = 87,
  LOCAL_POSITION_NED_SYSTEM_GLOBAL_OFFSET = 89,
  HIL_STATE = 90, -- DEPRECATED:Replaced ByHIL_STATE_QUATERNION(2013-07) — Suffers from missing airspeed fields and singularities due to Euler angles)
  HIL_CONTROLS = 91,
  HIL_RC_INPUTS_RAW = 92,
  HIL_ACTUATOR_CONTROLS = 93,
  OPTICAL_FLOW = 100,
  GLOBAL_VISION_POSITION_ESTIMATE = 101,
  VISION_POSITION_ESTIMATE = 102,
  VISION_SPEED_ESTIMATE = 103,
  VICON_POSITION_ESTIMATE = 104,
  HIGHRES_IMU = 105,
  OPTICAL_FLOW_RAD = 106,
  HIL_SENSOR = 107,
  SIM_STATE = 108,
  RADIO_STATUS = 109,
  FILE_TRANSFER_PROTOCOL = 110,
  TIMESYNC = 111,
  CAMERA_TRIGGER = 112,
  HIL_GPS = 113,
  HIL_OPTICAL_FLOW = 114,
  HIL_STATE_QUATERNION = 115,
  SCALED_IMU2 = 116,
  LOG_REQUEST_LIST = 117,
  LOG_ENTRY = 118,
  LOG_REQUEST_DATA = 119,
  LOG_DATA = 120,
  LOG_ERASE = 121,
  LOG_REQUEST_END = 122,
  GPS_INJECT_DATA = 123, -- DEPRECATED:Replaced ByGPS_RTCM_DATA(2022-05)
  GPS2_RAW = 124,
  POWER_STATUS = 125,
  SERIAL_CONTROL = 126,
  GPS_RTK = 127,
  GPS2_RTK = 128,
  SCALED_IMU3 = 129,
  DATA_TRANSMISSION_HANDSHAKE = 130,
  ENCAPSULATED_DATA = 131,
  DISTANCE_SENSOR = 132,
  TERRAIN_REQUEST = 133,
  TERRAIN_DATA = 134,
  TERRAIN_CHECK = 135,
  TERRAIN_REPORT = 136,
  SCALED_PRESSURE2 = 137,
  ATT_POS_MOCAP = 138,
  SET_ACTUATOR_CONTROL_TARGET = 139,
  ACTUATOR_CONTROL_TARGET = 140,
  ALTITUDE = 141,
  RESOURCE_REQUEST = 142,
  SCALED_PRESSURE3 = 143,
  FOLLOW_TARGET = 144,
  CONTROL_SYSTEM_STATE = 146,
  BATTERY_STATUS = 147,
  AUTOPILOT_VERSION = 148,
  LANDING_TARGET = 149,
  FENCE_STATUS = 162,
  MAG_CAL_REPORT = 192,
  EFI_STATUS = 225,
  ESTIMATOR_STATUS = 230,
  WIND_COV = 231,
  GPS_INPUT = 232,
  GPS_RTCM_DATA = 233,
  HIGH_LATENCY = 234, -- DEPRECATED:Replaced ByHIGH_LATENCY2(2020-10)
  HIGH_LATENCY2 = 235,
  VIBRATION = 241,
  HOME_POSITION = 242,
  SET_HOME_POSITION = 243, -- DEPRECATED:Replaced ByMAV_CMD_DO_SET_HOME(2022-02) — The command protocol version (MAV_CMD_DO_SET_HOME) allows a GCS to detect when setting the home position has failed.)
  MESSAGE_INTERVAL = 244,
  EXTENDED_SYS_STATE = 245,
  ADSB_VEHICLE = 246,
  COLLISION = 247,
  V2_EXTENSION = 248,
  MEMORY_VECT = 249,
  DEBUG_VECT = 250,
  NAMED_VALUE_FLOAT = 251,
  NAMED_VALUE_INT = 252,
  STATUSTEXT = 253,
  DEBUG = 254,
  SETUP_SIGNING = 256,
  BUTTON_CHANGE = 257,
  PLAY_TUNE = 258, -- DEPRECATED:Replaced ByPLAY_TUNE_V2(2019-10) — New version explicitly defines format. More interoperable.)
  CAMERA_INFORMATION = 259,
  CAMERA_SETTINGS = 260,
  STORAGE_INFORMATION = 261,
  CAMERA_CAPTURE_STATUS = 262,
  CAMERA_IMAGE_CAPTURED = 263,
  FLIGHT_INFORMATION = 264,
  MOUNT_ORIENTATION = 265, -- DEPRECATED:Replaced ByMAV_CMD_DO_GIMBAL_MANAGER_PITCHYAW(2020-01) — This message is being superseded byMAV_CMD_DO_GIMBAL_MANAGER_PITCHYAW. The message can still be used to communicate with legacy gimbals implementing it.)
  LOGGING_DATA = 266,
  LOGGING_DATA_ACKED = 267,
  LOGGING_ACK = 268,
  VIDEO_STREAM_INFORMATION = 269,
  VIDEO_STREAM_STATUS = 270,
  CAMERA_FOV_STATUS = 271,
  CAMERA_TRACKING_IMAGE_STATUS = 275,
  CAMERA_TRACKING_GEO_STATUS = 276,
  CAMERA_THERMAL_RANGE = 277,
  GIMBAL_MANAGER_INFORMATION = 280,
  GIMBAL_MANAGER_STATUS = 281,
  GIMBAL_MANAGER_SET_ATTITUDE = 282,
  GIMBAL_DEVICE_INFORMATION = 283,
  GIMBAL_DEVICE_SET_ATTITUDE = 284,
  GIMBAL_DEVICE_ATTITUDE_STATUS = 285,
  AUTOPILOT_STATE_FOR_GIMBAL_DEVICE = 286,
  GIMBAL_MANAGER_SET_PITCHYAW = 287,
  GIMBAL_MANAGER_SET_MANUAL_CONTROL = 288,
  ESC_INFO = 290, -- WORK IN PROGRESS: Do not use in stable production environments (it may change).
  ESC_STATUS = 291, -- WORK IN PROGRESS: Do not use in stable production environments (it may change).
  WIFI_CONFIG_AP = 299,
  PROTOCOL_VERSION = 300, -- WORK IN PROGRESS: Do not use in stable production environments (it may change).
  AIS_VESSEL = 301,
  UAVCAN_NODE_STATUS = 310,
  UAVCAN_NODE_INFO = 311,
  PARAM_EXT_REQUEST_READ = 320,
  PARAM_EXT_REQUEST_LIST = 321,
  PARAM_EXT_VALUE = 322,
  PARAM_EXT_SET = 323,
  PARAM_EXT_ACK = 324,
  OBSTACLE_DISTANCE = 330,
  ODOMETRY = 331,
  TRAJECTORY_REPRESENTATION_WAYPOINTS = 332,
  TRAJECTORY_REPRESENTATION_BEZIER = 333,
  CELLULAR_STATUS = 334,
  ISBD_LINK_STATUS = 335,
  CELLULAR_CONFIG = 336,
  RAW_RPM = 339,
  UTM_GLOBAL_POSITION = 340,
  DEBUG_FLOAT_ARRAY = 350,
  ORBIT_EXECUTION_STATUS = 360, -- WORK IN PROGRESS: Do not use in stable production environments (it may change).
  SMART_BATTERY_INFO = 370, -- DEPRECATED:Replaced ByBATTERY_INFO(2024-02) — TheBATTERY_INFOmessage is better aligned with UAVCAN messages, and in any case is useful even if a battery is not "smart".)
  FUEL_STATUS = 371,
  BATTERY_INFO = 372, -- WORK IN PROGRESS: Do not use in stable production environments (it may change).
  GENERATOR_STATUS = 373,
  ACTUATOR_OUTPUT_STATUS = 375,
  TIME_ESTIMATE_TO_TARGET = 380, -- WORK IN PROGRESS: Do not use in stable production environments (it may change).
  TUNNEL = 385,
  CAN_FRAME = 386,
  CANFD_FRAME = 387,
  CAN_FILTER_MODIFY = 388,
  ONBOARD_COMPUTER_STATUS = 390, -- WORK IN PROGRESS: Do not use in stable production environments (it may change).
  COMPONENT_INFORMATION = 395, -- DEPRECATED:Replaced ByCOMPONENT_METADATA(2022-04)
  COMPONENT_INFORMATION_BASIC = 396,
  COMPONENT_METADATA = 397, -- WORK IN PROGRESS: Do not use in stable production environments (it may change).
  PLAY_TUNE_V2 = 400,
  SUPPORTED_TUNES = 401,
  EVENT = 410, -- WORK IN PROGRESS: Do not use in stable production environments (it may change).
  CURRENT_EVENT_SEQUENCE = 411, -- WORK IN PROGRESS: Do not use in stable production environments (it may change).
  REQUEST_EVENT = 412, -- WORK IN PROGRESS: Do not use in stable production environments (it may change).
  RESPONSE_EVENT_ERROR = 413, -- WORK IN PROGRESS: Do not use in stable production environments (it may change).
  AVAILABLE_MODES = 435,
  CURRENT_MODE = 436,
  AVAILABLE_MODES_MONITOR = 437,
  ILLUMINATOR_STATUS = 440,
  WHEEL_DISTANCE = 9000,
  WINCH_STATUS = 9005,
  OPEN_DRONE_ID_BASIC_ID = 12900,
  OPEN_DRONE_ID_LOCATION = 12901,
  OPEN_DRONE_ID_AUTHENTICATION = 12902,
  OPEN_DRONE_ID_SELF_ID = 12903,
  OPEN_DRONE_ID_SYSTEM = 12904,
  OPEN_DRONE_ID_OPERATOR_ID = 12905,
  OPEN_DRONE_ID_MESSAGE_PACK = 12915,
  OPEN_DRONE_ID_ARM_STATUS = 12918,
  OPEN_DRONE_ID_SYSTEM_UPDATE = 12919,
  HYGROMETER_SENSOR = 12920,
  MAV_CMD_NAV_WAYPOINT = 16,
  MAV_CMD_NAV_LOITER_UNLIM = 17,
  MAV_CMD_NAV_LOITER_TURNS = 18,
  MAV_CMD_NAV_LOITER_TIME = 19,
  MAV_CMD_NAV_RETURN_TO_LAUNCH = 20,
  MAV_CMD_NAV_LAND = 21,
  MAV_CMD_NAV_TAKEOFF = 22,
  MAV_CMD_NAV_LAND_LOCAL = 23,
  MAV_CMD_NAV_TAKEOFF_LOCAL = 24,
  MAV_CMD_NAV_FOLLOW = 25,
  MAV_CMD_NAV_CONTINUE_AND_CHANGE_ALT = 30,
  MAV_CMD_NAV_LOITER_TO_ALT = 31,
  MAV_CMD_DO_FOLLOW = 32,
  MAV_CMD_DO_FOLLOW_REPOSITION = 33,
  MAV_CMD_DO_ORBIT = 34, -- WORK IN PROGRESS: Do not use in stable production environments (it may change).
  MAV_CMD_NAV_ROI = 80, -- DEPRECATED:Replaced ByMAV_CMD_DO_SET_ROI_*(2018-01)
  MAV_CMD_NAV_PATHPLANNING = 81,
  MAV_CMD_NAV_SPLINE_WAYPOINT = 82,
  MAV_CMD_NAV_VTOL_TAKEOFF = 84,
  MAV_CMD_NAV_VTOL_LAND = 85,
  MAV_CMD_NAV_GUIDED_ENABLE = 92,
  MAV_CMD_NAV_DELAY = 93,
  MAV_CMD_NAV_PAYLOAD_PLACE = 94,
  MAV_CMD_NAV_LAST = 95,
  MAV_CMD_CONDITION_DELAY = 112,
  MAV_CMD_CONDITION_CHANGE_ALT = 113,
  MAV_CMD_CONDITION_DISTANCE = 114,
  MAV_CMD_CONDITION_YAW = 115,
  MAV_CMD_CONDITION_LAST = 159,
  MAV_CMD_DO_SET_MODE = 176,
  MAV_CMD_DO_JUMP = 177,
  MAV_CMD_DO_CHANGE_SPEED = 178,
  MAV_CMD_DO_SET_HOME = 179,
  MAV_CMD_DO_SET_PARAMETER = 180, -- DEPRECATED:Replaced ByPARAM_SET(2024-04)
  MAV_CMD_DO_SET_RELAY = 181,
  MAV_CMD_DO_REPEAT_RELAY = 182,
  MAV_CMD_DO_SET_SERVO = 183,
  MAV_CMD_DO_REPEAT_SERVO = 184,
  MAV_CMD_DO_FLIGHTTERMINATION = 185,
  MAV_CMD_DO_CHANGE_ALTITUDE = 186,
  MAV_CMD_DO_SET_ACTUATOR = 187,
  MAV_CMD_DO_RETURN_PATH_START = 188, -- WORK IN PROGRESS: Do not use in stable production environments (it may change).
  MAV_CMD_DO_LAND_START = 189,
  MAV_CMD_DO_RALLY_LAND = 190,
  MAV_CMD_DO_GO_AROUND = 191,
  MAV_CMD_DO_REPOSITION = 192,
  MAV_CMD_DO_PAUSE_CONTINUE = 193,
  MAV_CMD_DO_SET_REVERSE = 194,
  MAV_CMD_DO_SET_ROI_LOCATION = 195,
  MAV_CMD_DO_SET_ROI_WPNEXT_OFFSET = 196,
  MAV_CMD_DO_SET_ROI_NONE = 197,
  MAV_CMD_DO_SET_ROI_SYSID = 198,
  MAV_CMD_DO_CONTROL_VIDEO = 200,
  MAV_CMD_DO_SET_ROI = 201, -- DEPRECATED:Replaced ByMAV_CMD_DO_SET_ROI_*(2018-01)
  MAV_CMD_DO_DIGICAM_CONFIGURE = 202,
  MAV_CMD_DO_DIGICAM_CONTROL = 203,
  MAV_CMD_DO_MOUNT_CONFIGURE = 204, -- DEPRECATED:Replaced ByMAV_CMD_DO_GIMBAL_MANAGER_CONFIGURE(2020-01) — This message has been superseded byMAV_CMD_DO_GIMBAL_MANAGER_CONFIGURE. The message can still be used to communicate with legacy gimbals implementing it.)
  MAV_CMD_DO_MOUNT_CONTROL = 205, -- DEPRECATED:Replaced ByMAV_CMD_DO_GIMBAL_MANAGER_PITCHYAW(2020-01) — This message is ambiguous and inconsistent. It has been superseded byMAV_CMD_DO_GIMBAL_MANAGER_PITCHYAWandMAV_CMD_DO_SET_ROI_*variants. The message can still be used to communicate with legacy gimbals implementing it.)
  MAV_CMD_DO_SET_CAM_TRIGG_DIST = 206,
  MAV_CMD_DO_FENCE_ENABLE = 207,
  MAV_CMD_DO_PARACHUTE = 208,
  MAV_CMD_DO_MOTOR_TEST = 209,
  MAV_CMD_DO_INVERTED_FLIGHT = 210,
  MAV_CMD_DO_GRIPPER = 211,
  MAV_CMD_DO_AUTOTUNE_ENABLE = 212,
  MAV_CMD_NAV_SET_YAW_SPEED = 213,
  MAV_CMD_DO_SET_CAM_TRIGG_INTERVAL = 214,
  MAV_CMD_DO_MOUNT_CONTROL_QUAT = 220, -- DEPRECATED:Replaced ByMAV_CMD_DO_GIMBAL_MANAGER_PITCHYAW(2020-01)
  MAV_CMD_DO_GUIDED_MASTER = 221,
  MAV_CMD_DO_GUIDED_LIMITS = 222,
  MAV_CMD_DO_ENGINE_CONTROL = 223,
  MAV_CMD_DO_SET_MISSION_CURRENT = 224,
  MAV_CMD_DO_LAST = 240,
  MAV_CMD_PREFLIGHT_CALIBRATION = 241,
  MAV_CMD_PREFLIGHT_SET_SENSOR_OFFSETS = 242,
  MAV_CMD_PREFLIGHT_UAVCAN = 243,
  MAV_CMD_PREFLIGHT_STORAGE = 245,
  MAV_CMD_PREFLIGHT_REBOOT_SHUTDOWN = 246,
  MAV_CMD_OVERRIDE_GOTO = 252,
  MAV_CMD_OBLIQUE_SURVEY = 260,
  MAV_CMD_DO_SET_STANDARD_MODE = 262,
  MAV_CMD_MISSION_START = 300,
  MAV_CMD_ACTUATOR_TEST = 310,
  MAV_CMD_CONFIGURE_ACTUATOR = 311,
  MAV_CMD_COMPONENT_ARM_DISARM = 400,
  MAV_CMD_RUN_PREARM_CHECKS = 401,
  MAV_CMD_ILLUMINATOR_ON_OFF = 405,
  MAV_CMD_DO_ILLUMINATOR_CONFIGURE = 406,
  MAV_CMD_GET_HOME_POSITION = 410, -- DEPRECATED:Replaced ByMAV_CMD_REQUEST_MESSAGE(2022-04)
  MAV_CMD_INJECT_FAILURE = 420,
  MAV_CMD_START_RX_PAIR = 500,
  MAV_CMD_GET_MESSAGE_INTERVAL = 510, -- DEPRECATED:Replaced ByMAV_CMD_REQUEST_MESSAGE(2022-04)
  MAV_CMD_SET_MESSAGE_INTERVAL = 511,
  MAV_CMD_REQUEST_MESSAGE = 512,
  MAV_CMD_REQUEST_PROTOCOL_VERSION = 519, -- DEPRECATED:Replaced ByMAV_CMD_REQUEST_MESSAGE(2019-08)
  MAV_CMD_REQUEST_AUTOPILOT_CAPABILITIES = 520, -- DEPRECATED:Replaced ByMAV_CMD_REQUEST_MESSAGE(2019-08)
  MAV_CMD_REQUEST_CAMERA_INFORMATION = 521, -- DEPRECATED:Replaced ByMAV_CMD_REQUEST_MESSAGE(2019-08)
  MAV_CMD_REQUEST_CAMERA_SETTINGS = 522, -- DEPRECATED:Replaced ByMAV_CMD_REQUEST_MESSAGE(2019-08)
  MAV_CMD_REQUEST_STORAGE_INFORMATION = 525, -- DEPRECATED:Replaced ByMAV_CMD_REQUEST_MESSAGE(2019-08)
  MAV_CMD_STORAGE_FORMAT = 526,
  MAV_CMD_REQUEST_CAMERA_CAPTURE_STATUS = 527, -- DEPRECATED:Replaced ByMAV_CMD_REQUEST_MESSAGE(2019-08)
  MAV_CMD_REQUEST_FLIGHT_INFORMATION = 528, -- DEPRECATED:Replaced ByMAV_CMD_REQUEST_MESSAGE(2019-08)
  MAV_CMD_RESET_CAMERA_SETTINGS = 529,
  MAV_CMD_SET_CAMERA_MODE = 530,
  MAV_CMD_SET_CAMERA_ZOOM = 531,
  MAV_CMD_SET_CAMERA_FOCUS = 532,
  MAV_CMD_SET_STORAGE_USAGE = 533,
  MAV_CMD_SET_CAMERA_SOURCE = 534,
  MAV_CMD_JUMP_TAG = 600,
  MAV_CMD_DO_JUMP_TAG = 601,
  MAV_CMD_DO_GIMBAL_MANAGER_PITCHYAW = 1000,
  MAV_CMD_DO_GIMBAL_MANAGER_CONFIGURE = 1001,
  MAV_CMD_IMAGE_START_CAPTURE = 2000,
  MAV_CMD_IMAGE_STOP_CAPTURE = 2001,
  MAV_CMD_REQUEST_CAMERA_IMAGE_CAPTURE = 2002, -- DEPRECATED:Replaced ByMAV_CMD_REQUEST_MESSAGE(2019-08)
  MAV_CMD_DO_TRIGGER_CONTROL = 2003,
  MAV_CMD_CAMERA_TRACK_POINT = 2004,
  MAV_CMD_CAMERA_TRACK_RECTANGLE = 2005,
  MAV_CMD_CAMERA_STOP_TRACKING = 2010,
  MAV_CMD_VIDEO_START_CAPTURE = 2500,
  MAV_CMD_VIDEO_STOP_CAPTURE = 2501,
  MAV_CMD_VIDEO_START_STREAMING = 2502,
  MAV_CMD_VIDEO_STOP_STREAMING = 2503,
  MAV_CMD_REQUEST_VIDEO_STREAM_INFORMATION = 2504, -- DEPRECATED:Replaced ByMAV_CMD_REQUEST_MESSAGE(2019-08)
  MAV_CMD_REQUEST_VIDEO_STREAM_STATUS = 2505, -- DEPRECATED:Replaced ByMAV_CMD_REQUEST_MESSAGE(2019-08)
  MAV_CMD_LOGGING_START = 2510,
  MAV_CMD_LOGGING_STOP = 2511,
  MAV_CMD_AIRFRAME_CONFIGURATION = 2520,
  MAV_CMD_CONTROL_HIGH_LATENCY = 2600,
  MAV_CMD_PANORAMA_CREATE = 2800,
  MAV_CMD_DO_VTOL_TRANSITION = 3000,
  MAV_CMD_ARM_AUTHORIZATION_REQUEST = 3001,
  MAV_CMD_SET_GUIDED_SUBMODE_STANDARD = 4000,
  MAV_CMD_SET_GUIDED_SUBMODE_CIRCLE = 4001,
  MAV_CMD_CONDITION_GATE = 4501, -- WORK IN PROGRESS: Do not use in stable production environments (it may change).
  MAV_CMD_NAV_FENCE_RETURN_POINT = 5000,
  MAV_CMD_NAV_FENCE_POLYGON_VERTEX_INCLUSION = 5001,
  MAV_CMD_NAV_FENCE_POLYGON_VERTEX_EXCLUSION = 5002,
  MAV_CMD_NAV_FENCE_CIRCLE_INCLUSION = 5003,
  MAV_CMD_NAV_FENCE_CIRCLE_EXCLUSION = 5004,
  MAV_CMD_NAV_RALLY_POINT = 5100,
  MAV_CMD_UAVCAN_GET_NODE_INFO = 5200,
  MAV_CMD_DO_SET_SAFETY_SWITCH_STATE = 5300,
  MAV_CMD_DO_ADSB_OUT_IDENT = 10001,
  MAV_CMD_PAYLOAD_PREPARE_DEPLOY = 30001, -- DEPRECATED:(2021-06)
  MAV_CMD_PAYLOAD_CONTROL_DEPLOY = 30002, -- DEPRECATED:(2021-06)
  MAV_CMD_WAYPOINT_USER_1 = 31000,
  MAV_CMD_WAYPOINT_USER_2 = 31001,
  MAV_CMD_WAYPOINT_USER_3 = 31002,
  MAV_CMD_WAYPOINT_USER_4 = 31003,
  MAV_CMD_WAYPOINT_USER_5 = 31004,
  MAV_CMD_SPATIAL_USER_1 = 31005,
  MAV_CMD_SPATIAL_USER_2 = 31006,
  MAV_CMD_SPATIAL_USER_3 = 31007,
  MAV_CMD_SPATIAL_USER_4 = 31008,
  MAV_CMD_SPATIAL_USER_5 = 31009,
  MAV_CMD_USER_1 = 31010,
  MAV_CMD_USER_2 = 31011,
  MAV_CMD_USER_3 = 31012,
  MAV_CMD_USER_4 = 31013,
  MAV_CMD_USER_5 = 31014,
  MAV_CMD_CAN_FORWARD = 32000,
  MAV_CMD_FIXED_MAG_CAL_YAW = 42006,
  MAV_CMD_DO_WINCH = 42600,
  MAV_CMD_EXTERNAL_POSITION_ESTIMATE = 43003  
}

-- EXAMPLE
-- Change to your own serials and message IDs
local intervals = {
  {Serials.SERIAL0, Mav_components.HEARTBEAT, 1.0}, -- Zero serial, HEARTBEAT, 1 Hz
  {Serials.SERIAL1, Mav_components.GPS_RAW_INT, 2.0} -- First serial, GPS_RAW_INT, 2 Hz
}

local loop_time = 1000 -- number of ms between runs

function update() -- this is the loop which periodically runs
  for i = 1, #intervals do -- we want to iterate over every specified interval
    local channel, message, interval_hz = table.unpack(intervals[i]) -- this extracts the channel, MAVLink ID, and interval
    gcs:set_message_interval(channel, message, math.floor(1000000 / interval_hz)) -- actually sets the interval as appropriate
  end
  return update, loop_time -- reschedules the loop
end

return update() -- run immediately before starting to reschedule
